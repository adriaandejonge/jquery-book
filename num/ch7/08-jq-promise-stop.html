00 <!DOCTYPE html>
01 
02 <html lang="en">
03 <head>
04 <title>The jQuery UI promise() and stop() functions</title>
05   <style>
06     #my-animate {
07       border: 1px solid black;
08       width: 100px;
09       height: 100px;
10     }
11     </style>
12 </head>
13 <body>
14 
15 <h2>Click the div below to animate it</h2>
16 
17 <div id="my-animate">
18 Click
19 </div>
20 
21 <button>Stop</button>
22 
23 <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
24 <script src="http://code.jquery.com/ui/1.8.16/jquery-ui.min.js">
25 </script>
26 
27 <script>
28 // please externalize this code to an external .js file
29 $(document).ready(function() {
30   
31   $('#my-animate').click(function() {
32     $(this).effect('slide', {}, 5000);
33     $(this).promise().done(function() {
34       alert('animation is done');
35     });
36   });
37   
38   $('button').click(function() {
39     $('#my-animate').stop();
40   });
41   
42 });
43 </script>
44 </body>
45 </html>