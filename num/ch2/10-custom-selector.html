00 <!DOCTYPE html>
01 
02 <html lang="en">
03 <head>
04   <title>Custom selector</title>
05 </head>
06 <body>
07   
08 <h2>Every third line gets a blue background color</h2>
09 
10 <ul>
11   <li>One</li>
12   <li>Two</li>
13   <li>Three</li>
14   <li>Four</li>
15   <li>Five</li>
16   <li>Six</li>
17   <li>Seven</li>
18   <li>Eight</li>
19   <li>Nine</li>
20   <li>Ten</li>
21 </ul>
22 
23 
24 <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
25 
26 <script>
27 // please externalize this code to an external .js file
28 $(document).ready(function() {
29 
30   $.expr[':'].third = function(obj, index, meta, stack) {
31 
32     // obj contains the current element
33 
34     // index contains the 0 - n, depending on the current 
35     //      element and the number of elements
36 
37     // meta contains an array with the following values:
38     //      [":third('bla')", "third", "'", "bla"]
39 
40     // stack contains a NodeList, which can be transformed into
41     //       an array using $.makeArray(stack)
42 
43     return (index + 1) % 3 == 0;
44   };
45   
46   $('li:third(\'bla\')').css('background-color', 'blue');
47   
48   // li:nth-child(3n) would do the same of course
49   // this example is to show how to implement a custom
50   // selector
51 
52 });
53 
54 </script>
55 </body>
56 </html>
